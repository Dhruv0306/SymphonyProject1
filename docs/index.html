<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Validation Using Logo Detection - Symphony Limited</title>
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="icon" type="image/png" href="https://shop.symphonylimited.com/cdn/shop/files/logo-new-header.png?v=1704892972">
</head>
<body>
    <div class="documentation-container">
        <!-- Sidebar Navigation -->
        <nav class="sidebar">
            <div class="sidebar-header">
                <img src="https://shop.symphonylimited.com/cdn/shop/files/logo-new-header.png?v=1704892972" alt="Symphony Logo" class="logo">
                <h2>Documentation</h2>
                <button id="menuToggle" class="menu-toggle">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
            <ul class="nav-links">
                <li><a href="#getting-started" class="active"><i class="fas fa-rocket"></i> Quick Start</a></li>
                <li><a href="#features"><i class="fas fa-star"></i> Key Features</a></li>
                <li><a href="#models"><i class="fas fa-brain"></i> Detection Models</a></li>
                <li><a href="#rate-limits"><i class="fas fa-tachometer-alt"></i> Rate Limits</a></li>
                <li><a href="#single-image"><i class="fas fa-image"></i> Single Image Detection</a></li>
                <li><a href="#batch-processing"><i class="fas fa-images"></i> Batch Processing</a></li>
                <li><a href="#api-integration"><i class="fas fa-code"></i> API Integration</a></li>
                <li><a href="#troubleshooting"><i class="fas fa-wrench"></i> Troubleshooting</a></li>
            </ul>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <header class="header">
                <h1>Image Validation Using Logo Detection</h1>
                <p class="subtitle">Enterprise-Grade Logo Detection System by Symphony Limited</p>
                <div class="search-box">
                    <input type="text" placeholder="Search the documentation...">
                    <i class="fas fa-search"></i>
                </div>
            </header>

            <!-- Quick Start Section -->
            <section id="getting-started" class="content-section">
                <h2>Quick Start Guide</h2>
                <div class="card overview">
                    <h3>Enterprise Features</h3>
                    <ul>
                        <li>5 specialized YOLO models with 0.35 confidence threshold</li>
                        <li>FastAPI 0.115.12 with SlowAPI 0.1.9 rate limiting</li>
                        <li>Real-time WebSocket batch processing with progress tracking</li>
                        <li>CSV export with batch metadata and timestamps</li>
                        <li>React 19.1.0 frontend with Material-UI 7.1.0</li>
                        <li>APScheduler 3.10.4 automated cleanup and maintenance</li>
                        <li>Torch 2.7.1 + TorchVision 0.22.1 deep learning framework</li>
                        <li>Ultralytics 8.3.151 for YOLOv8 and YOLOv11 support</li>
                    </ul>
                </div>

                <div class="card system-requirements">
                    <h3>System Requirements</h3>
                    <ul>
                        <li>Python 3.7+ with pip package manager</li>
                        <li>Node.js 14+ with npm for frontend</li>
                        <li>CUDA-compatible GPU (recommended for faster inference)</li>
                        <li>4GB+ RAM (8GB+ recommended for batch processing)</li>
                        <li>Active internet connection for URL-based image processing</li>
                        <li>Windows/Linux/macOS support</li>
                    </ul>
                </div>
            </section>

            <!-- Key Features Section -->
            <section id="features" class="content-section">
                <h2>Key Features</h2>
                
                <!-- System Architecture Diagram -->
                <div class="card diagram-card">
                    <h3>System Architecture Overview</h3>
                    <div class="svg-container">
                        <div class="zoom-controls">
                            <button class="zoom-btn zoom-in" title="Zoom In"><i class="fas fa-search-plus"></i></button>
                            <button class="zoom-btn zoom-out" title="Zoom Out"><i class="fas fa-search-minus"></i></button>
                            <button class="zoom-btn zoom-reset" title="Reset Zoom"><i class="fas fa-expand-arrows-alt"></i></button>
                        </div>
                        <object data="images/svg/system_overview.svg" type="image/svg+xml" class="responsive-svg">
                            <img src="images/svg/system_overview.svg" alt="System Architecture" class="fallback-img">
                        </object>
                    </div>
                </div>
                
                <!-- Multi-Model Detection -->
                <div class="card feature-card">
                    <h3><i class="fas fa-brain"></i> Cascading Model Architecture</h3>
                    <div class="feature-content">
                        <ul>
                            <li>
                                <strong>Progressive Detection:</strong>
                                <ul>
                                    <li>yolov8s_logo_detection - Primary model</li>
                                    <li>yolov8s_logo_detection2 - Enhanced training data</li>
                                    <li>yolov8s_logo_detection3 - Refined parameters</li>
                                    <li>yolov11s_logo_detection - Advanced YOLOv11s</li>
                                    <li>yolov11s3_logo_detection - Optimized YOLOv11s</li>
                                </ul>
                            </li>
                            <li>
                                <strong>Confidence Thresholds:</strong>
                                <ul>
                                    <li>0.35 confidence threshold for validation</li>
                                    <li>Automatic model progression</li>
                                    <li>Ensemble processing for difficult cases</li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </div>

                <!-- Rate Limiting -->
                <div class="card feature-card">
                    <h3><i class="fas fa-tachometer-alt"></i> Rate Limiting</h3>
                    <div class="feature-content">
                        <ul>
                            <li>
                                <strong>Endpoint Limits:</strong>
                                <ul>
                                    <li>Single image: 100 requests/minute</li>
                                    <li>Batch processing: 20 requests/minute</li>
                                    <li>CSV export: 20 requests/minute</li>
                                </ul>
                            </li>
                            <li>
                                <strong>Rate Monitoring:</strong>
                                <ul>
                                    <li>Real-time limit tracking</li>
                                    <li>Remaining requests display</li>
                                    <li>Reset time indicators</li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </div>

                <!-- Security Features -->
                <div class="card feature-card">
                    <h3><i class="fas fa-shield-alt"></i> Security Features</h3>
                    <div class="feature-content">
                        <ul>
                            <li>
                                <strong>Input Validation:</strong>
                                <ul>
                                    <li>File type filtering</li>
                                    <li>Size limit enforcement</li>
                                    <li>Content validation</li>
                                </ul>
                            </li>
                            <li>
                                <strong>Protection Measures:</strong>
                                <ul>
                                    <li>CORS protection</li>
                                    <li>Request validation</li>
                                    <li>Resource limits</li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Detection Models Section -->
            <section id="models" class="content-section">
                <h2>Detection Models</h2>
                
                <!-- Image Processing Pipeline Diagram -->
                <div class="card diagram-card">
                    <h3>Image Processing Pipeline</h3>
                    <div class="svg-container">
                        <div class="zoom-controls">
                            <button class="zoom-btn zoom-in" title="Zoom In"><i class="fas fa-search-plus"></i></button>
                            <button class="zoom-btn zoom-out" title="Zoom Out"><i class="fas fa-search-minus"></i></button>
                            <button class="zoom-btn zoom-reset" title="Reset Zoom"><i class="fas fa-expand-arrows-alt"></i></button>
                        </div>
                        <object data="images/svg/model_architecture.svg" type="image/svg+xml" class="responsive-svg">
                            <img src="images/svg/model_architecture.svg" alt="Model Architecture" class="fallback-img">
                        </object>
                    </div>
                </div>
                <div class="card models">
                    <h3>Model Architecture</h3>
                    <div class="model-grid">
                        <div class="model">
                            <i class="fas fa-microchip"></i>
                            <h4>Model 1</h4>
                            <p>yolov8s_logo_detection</p>
                        </div>
                        <div class="model">
                            <i class="fas fa-microchip"></i>
                            <h4>Model 2</h4>
                            <p>yolov8s_logo_detection2</p>
                        </div>
                        <div class="model">
                            <i class="fas fa-microchip"></i>
                            <h4>Model 3</h4>
                            <p>yolov8s_logo_detection3</p>
                        </div>
                        <div class="model">
                            <i class="fas fa-brain"></i>
                            <h4>Model 4</h4>
                            <p>yolov11s_logo_detection</p>
                        </div>
                        <div class="model">
                            <i class="fas fa-brain"></i>
                            <h4>Model 5</h4>
                            <p>yolov11s3_logo_detection</p>
                        </div>
                    </div>
                    <div class="model-features">
                        <h4>Sequential Processing Flow</h4>
                        <ul>
                            <li>Model 1: yolov8s_logo_detection (Primary)</li>
                            <li>If no Symphony found, try Model 2: yolov8s_logo_detection2</li>
                            <li>If still no detection, try Model 3: yolov8s_logo_detection3</li>
                            <li>Continue to Model 4: yolov11s_logo_detection</li>
                            <li>Final attempt: Model 5: yolov11s3_logo_detection</li>
                            <li>Early return when Symphony logo detected (conf â‰¥ 0.35)</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Rate Limits Section -->
            <section id="rate-limits" class="content-section">
                <h2>Rate Limits</h2>
                <div class="card rate-limits">
                    <h3>Endpoint Limits</h3>
                    <div class="limit-grid">
                        <div class="limit">
                            <i class="fas fa-image"></i>
                            <h4>Single Image</h4>
                            <p>100 requests per minute</p>
                        </div>
                        <div class="limit">
                            <i class="fas fa-images"></i>
                            <h4>Batch Processing</h4>
                            <p>20 requests per minute</p>
                        </div>
                        <div class="limit">
                            <i class="fas fa-file-csv"></i>
                            <h4>CSV Export</h4>
                            <p>20 requests per minute</p>
                        </div>
                        <div class="limit">
                            <i class="fas fa-plug"></i>
                            <h4>WebSocket</h4>
                            <p>Real-time updates</p>
                        </div>
                    </div>
                    <div class="limit-info">
                        <h4>Rate Limit Headers</h4>
                        <ul>
                            <li>X-RateLimit-Limit: Maximum requests allowed</li>
                            <li>X-RateLimit-Remaining: Requests remaining</li>
                            <li>X-RateLimit-Reset: Time until limit reset</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Single Image Detection Section -->
            <section id="single-image" class="content-section">
                <h2>Single Image Detection</h2>
                
                <!-- File Processing Workflow Diagram -->
                <div class="card diagram-card">
                    <h3>File Processing Workflow</h3>
                    <div class="svg-container">
                        <div class="zoom-controls">
                            <button class="zoom-btn zoom-in" title="Zoom In"><i class="fas fa-search-plus"></i></button>
                            <button class="zoom-btn zoom-out" title="Zoom Out"><i class="fas fa-search-minus"></i></button>
                            <button class="zoom-btn zoom-reset" title="Reset Zoom"><i class="fas fa-expand-arrows-alt"></i></button>
                        </div>
                        <object data="images/svg/detailed_processing_pipeline.svg" type="image/svg+xml" class="responsive-svg">
                            <img src="images/svg/detailed_processing_pipeline.svg" alt="Processing Pipeline" class="fallback-img">
                        </object>
                    </div>
                </div>
                <div class="card workflow">
                    <h3>Processing Steps</h3>
                    <div class="workflow-steps">
                        <div class="step">
                            <i class="fas fa-upload step-icon"></i>
                            <span class="step-number">1</span>
                            <h4>Input Image</h4>
                            <p>Upload file or enter URL</p>
                        </div>
                        <div class="step">
                            <i class="fas fa-check-circle step-icon"></i>
                            <span class="step-number">2</span>
                            <h4>Validation</h4>
                            <p>File type and size check</p>
                        </div>
                        <div class="step">
                            <i class="fas fa-cogs step-icon"></i>
                            <span class="step-number">3</span>
                            <h4>Processing</h4>
                            <p>Model cascade detection</p>
                        </div>
                        <div class="step">
                            <i class="fas fa-chart-line step-icon"></i>
                            <span class="step-number">4</span>
                            <h4>Results</h4>
                            <p>View detection details</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Batch Processing Section -->
            <section id="batch-processing" class="content-section">
                <h2>Batch Processing</h2>
                
                <!-- Batch Processing Diagram -->
                <div class="card diagram-card">
                    <h3>Batch Processing Flow</h3>
                    <div class="svg-container">
                        <div class="zoom-controls">
                            <button class="zoom-btn zoom-in" title="Zoom In"><i class="fas fa-search-plus"></i></button>
                            <button class="zoom-btn zoom-out" title="Zoom Out"><i class="fas fa-search-minus"></i></button>
                            <button class="zoom-btn zoom-reset" title="Reset Zoom"><i class="fas fa-expand-arrows-alt"></i></button>
                        </div>
                        <object data="images/svg/batch_processing_sequence.svg" type="image/svg+xml" class="responsive-svg">
                            <img src="images/svg/batch_processing_sequence.svg" alt="Batch Processing Flow" class="fallback-img">
                        </object>
                    </div>
                </div>
                <div class="card workflow">
                    <h3>Batch Processing Steps</h3>
                    <div class="workflow-steps">
                        <div class="step">
                            <i class="fas fa-play-circle step-icon"></i>
                            <span class="step-number">1</span>
                            <h4>Start Batch</h4>
                            <p>Initialize batch session</p>
                        </div>
                        <div class="step">
                            <i class="fas fa-images step-icon"></i>
                            <span class="step-number">2</span>
                            <h4>Upload Images</h4>
                            <p>Add files to batch</p>
                        </div>
                        <div class="step">
                            <i class="fas fa-brain step-icon"></i>
                            <span class="step-number">3</span>
                            <h4>Process</h4>
                            <p>Run detection pipeline</p>
                        </div>
                        <div class="step">
                            <i class="fas fa-download step-icon"></i>
                            <span class="step-number">4</span>
                            <h4>Export</h4>
                            <p>Download CSV results</p>
                        </div>
                    </div>
                </div>

                <!-- CSV Export Diagram -->
                <div class="card diagram-card">
                    <h3>CSV Export Process</h3>
                    <div class="svg-container">
                        <div class="zoom-controls">
                            <button class="zoom-btn zoom-in" title="Zoom In"><i class="fas fa-search-plus"></i></button>
                            <button class="zoom-btn zoom-out" title="Zoom Out"><i class="fas fa-search-minus"></i></button>
                            <button class="zoom-btn zoom-reset" title="Reset Zoom"><i class="fas fa-expand-arrows-alt"></i></button>
                        </div>
                        <object data="images/svg/csv_export_lifecycle.svg" type="image/svg+xml" class="responsive-svg">
                            <img src="images/svg/csv_export_lifecycle.svg" alt="CSV Export Process" class="fallback-img">
                        </object>
                    </div>
                </div>
                
                <div class="card batch-tips">
                    <h3>CSV Export Details</h3>
                    <ul>
                        <li>Image path and validation result</li>
                        <li>Confidence scores and model used</li>
                        <li>Bounding box coordinates</li>
                        <li>Batch ID and timestamp</li>
                    </ul>
                </div>
            </section>

            <!-- API Integration Section -->
            <section id="api-integration" class="content-section">
                <h2>API Integration</h2>
                
                <!-- API Security Flow Diagram -->
                <div class="card diagram-card">
                    <h3>API Security & Authentication Flow</h3>
                    <div class="svg-container">
                        <div class="zoom-controls">
                            <button class="zoom-btn zoom-in" title="Zoom In"><i class="fas fa-search-plus"></i></button>
                            <button class="zoom-btn zoom-out" title="Zoom Out"><i class="fas fa-search-minus"></i></button>
                            <button class="zoom-btn zoom-reset" title="Reset Zoom"><i class="fas fa-expand-arrows-alt"></i></button>
                        </div>
                        <object data="images/svg/api_security_flow.svg" type="image/svg+xml" class="responsive-svg">
                            <img src="images/svg/api_security_flow.svg" alt="API Security Flow" class="fallback-img">
                        </object>
                    </div>
                </div>
                
                <!-- Frontend API Integration Diagram -->
                <div class="card diagram-card">
                    <h3>Frontend API Integration</h3>
                    <div class="svg-container">
                        <div class="zoom-controls">
                            <button class="zoom-btn zoom-in" title="Zoom In"><i class="fas fa-search-plus"></i></button>
                            <button class="zoom-btn zoom-out" title="Zoom Out"><i class="fas fa-search-minus"></i></button>
                            <button class="zoom-btn zoom-reset" title="Reset Zoom"><i class="fas fa-expand-arrows-alt"></i></button>
                        </div>
                        <object data="images/svg/state_management.svg" type="image/svg+xml" class="responsive-svg">
                            <img src="images/svg/state_management.svg" alt="State Management" class="fallback-img">
                        </object>
                    </div>
                </div>
                <div class="card api-overview">
                    <h3>Key Endpoints</h3>
                    <ul>
                        <li>
                            <strong>Single Image Detection:</strong>
                            <code>POST /api/check-logo/single/</code>
                        </li>
                        <li>
                            <strong>Start Batch Session:</strong>
                            <code>POST /api/start-batch</code>
                        </li>
                        <li>
                            <strong>Batch Processing:</strong>
                            <code>POST /api/check-logo/batch/</code>
                        </li>
                        <li>
                            <strong>CSV Export:</strong>
                            <code>GET /api/check-logo/batch/export-csv/{batch_id}</code>
                        </li>
                        <li>
                            <strong>Admin Login:</strong>
                            <code>POST /api/admin/login</code>
                        </li>
                        <li>
                            <strong>Batch History:</strong>
                            <code>GET /api/admin/batch-history</code>
                        </li>
                        <li>
                            <strong>WebSocket Updates:</strong>
                            <code>WS /ws/batch/{batch_id}</code>
                        </li>
                    </ul>
                </div>
            </section>

            <!-- Troubleshooting Section -->
            <section id="troubleshooting" class="content-section">
                <h2>Troubleshooting</h2>
                
                <!-- Error Handling Diagram -->
                <div class="card diagram-card">
                    <h3>Error Handling & Monitoring</h3>
                    <div class="svg-container">
                        <div class="zoom-controls">
                            <button class="zoom-btn zoom-in" title="Zoom In"><i class="fas fa-search-plus"></i></button>
                            <button class="zoom-btn zoom-out" title="Zoom Out"><i class="fas fa-search-minus"></i></button>
                            <button class="zoom-btn zoom-reset" title="Reset Zoom"><i class="fas fa-expand-arrows-alt"></i></button>
                        </div>
                        <object data="images/svg/error_handling_monitoring.svg" type="image/svg+xml" class="responsive-svg">
                            <img src="images/svg/error_handling_monitoring.svg" alt="Error Handling & Monitoring" class="fallback-img">
                        </object>
                    </div>
                </div>
                
                <!-- Rate Limit Issues -->
                <div class="card error-card">
                    <h3><i class="fas fa-tachometer-alt"></i> Rate Limit Issues</h3>
                    <div class="error-example">
                        <div class="error-message">
                            <i class="fas fa-exclamation-circle"></i>
                            <code>429 Too Many Requests: Rate limit exceeded</code>
                        </div>
                        <div class="error-details">
                            <h4>Common Causes:</h4>
                            <ul>
                                <li>Single image endpoint: Exceeded 100 requests/minute</li>
                                <li>Batch processing: Exceeded 20 requests/minute</li>
                                <li>CSV export: Exceeded 20 requests/minute</li>
                            </ul>
                            <h4>Solutions:</h4>
                            <ul>
                                <li>Check X-RateLimit-Reset header for reset time</li>
                                <li>Implement exponential backoff</li>
                                <li>Use batch processing instead of multiple single requests</li>
                                <li>Monitor X-RateLimit-Remaining header</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- File Validation Issues -->
                <div class="card error-card">
                    <h3><i class="fas fa-file-alt"></i> File Validation Issues</h3>
                    <div class="error-example">
                        <div class="error-message">
                            <i class="fas fa-exclamation-circle"></i>
                            <code>400 Bad Request: Invalid file format or size</code>
                        </div>
                        <div class="error-details">
                            <h4>Common Causes:</h4>
                            <ul>
                                <li>Unsupported file type (only JPG, JPEG, PNG allowed)</li>
                                <li>File size exceeds limit (10MB per file)</li>
                                <li>Corrupted image file</li>
                                <li>Empty file upload</li>
                            </ul>
                            <h4>Solutions:</h4>
                            <ul>
                                <li>Verify file format before upload</li>
                                <li>Compress large images</li>
                                <li>Check file integrity</li>
                                <li>Ensure proper file encoding</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Model Processing Issues -->
                <div class="card error-card">
                    <h3><i class="fas fa-brain"></i> Model Processing Issues</h3>
                    <div class="error-example">
                        <div class="error-message">
                            <i class="fas fa-exclamation-circle"></i>
                            <code>Low Confidence: Model cascade completed without confident detection</code>
                        </div>
                        <div class="error-details">
                            <h4>Common Causes:</h4>
                            <ul>
                                <li>Image quality too low</li>
                                <li>Logo too small or unclear</li>
                                <li>Complex background interference</li>
                                <li>Unusual logo orientation</li>
                            </ul>
                            <h4>Solutions:</h4>
                            <ul>
                                <li>Use higher quality images</li>
                                <li>Ensure logo is clearly visible</li>
                                <li>Minimize background noise</li>
                                <li>Try different image angles</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Batch Processing Issues -->
                <div class="card error-card">
                    <h3><i class="fas fa-tasks"></i> Batch Processing Issues</h3>
                    <div class="error-example">
                        <div class="error-message">
                            <i class="fas fa-exclamation-circle"></i>
                            <code>Batch Processing Error: Invalid batch state or timeout</code>
                        </div>
                        <div class="error-details">
                            <h4>Common Causes:</h4>
                            <ul>
                                <li>Invalid batch ID</li>
                                <li>Batch session expired</li>
                                <li>Too many files in single batch</li>
                                <li>Network timeout during processing</li>
                            </ul>
                            <h4>Solutions:</h4>
                            <ul>
                                <li>Verify batch ID is valid</li>
                                <li>Process batches within session timeout</li>
                                <li>Split large batches into smaller ones</li>
                                <li>Check network stability</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- CSV Export Issues -->
                <div class="card error-card">
                    <h3><i class="fas fa-file-csv"></i> CSV Export Issues</h3>
                    <div class="error-example">
                        <div class="error-message">
                            <i class="fas fa-exclamation-circle"></i>
                            <code>Export Error: Unable to generate or download CSV</code>
                        </div>
                        <div class="error-details">
                            <h4>Common Causes:</h4>
                            <ul>
                                <li>Batch processing not complete</li>
                                <li>Export timeout</li>
                                <li>Rate limit exceeded</li>
                                <li>Invalid batch results</li>
                            </ul>
                            <h4>Solutions:</h4>
                            <ul>
                                <li>Wait for batch completion</li>
                                <li>Check batch status before export</li>
                                <li>Monitor rate limits</li>
                                <li>Verify batch results exist</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Best Practices -->
                <div class="card best-practices">
                    <h3><i class="fas fa-check-circle"></i> Error Prevention Best Practices</h3>
                    <ul>
                        <li>Monitor rate limits using response headers</li>
                        <li>Validate files before upload</li>
                        <li>Implement proper error handling</li>
                        <li>Use batch processing for multiple files</li>
                        <li>Keep batch sizes manageable</li>
                        <li>Download CSV exports promptly</li>
                        <li>Implement proper retry logic</li>
                        <li>Log errors for debugging</li>
                    </ul>
                </div>
            </section>
        </main>
    </div>
    <script src="js/main.js"></script>
</body>
</html> 